var createjs,Graphics,Game,g;(function(n){var u=function(){function n(){}return n.prototype.bind=function(){},n}(),t,i,r;n.TetrisRoot=u,t=function(){function n(){createjs.Ticker.setInterval(25),createjs.Ticker.setFPS(40),createjs.Ticker.useRAF=!0}return n.pause=function(){var n=!createjs.Ticker.getPaused();createjs.Ticker.setPaused(n)},n.prototype.setCallback=function(n){createjs.Ticker.addListener(n)},n}(),n.TetrisTimer=t,i=function(){function n(){this.stage=new createjs.Stage("tetris")}return n.prototype.place=function(){},n.prototype.addChild=function(n){this.stage.addChild(n)},n.prototype.update=function(){this.stage.update()},n.prototype.unplace=function(){},n.prototype.remove=function(){},n}(),n.TetrisCanvas=i,r=function(){function n(n,t,i,r,u,f){this.rect=new createjs.Shape,this.rect.graphics.beginFill(f).drawRect(t,i,r,u),n.addChild(this.rect),n.update()}return n.prototype.move=function(n,t){console.log(this),this.rect.x+=n,this.rect.y+=t},n}(),n.TetrisRect=r})(Graphics||(Graphics={})),function(n){var i=function(){function n(n,t){this.base_position=[5,0],this.moved=!0,this.all_rotations=n,this.board=t,this.rotation_index=0,this.color="Red",this.base_position=[5,0],this.moved=!0}return n.prototype.current_rotation=function(){return this.all_rotations[this.rotation_index]},n.prototype.dropByOne=function(){this.moved=this.move(0,1,0)},n.prototype.move=function(n,t,i){this.moved=!0;var r=this.all_rotations[(this.rotation_index+i)%this.all_rotations.length];return r.forEach(function(i){this.board.emptyAt([i[0]+n+this.base_position[0],i[1]+t+this.base_position[1]])&&(this.moved=!1)}),this.moved&&(this.base_position[0]+=n,this.base_position[1]+=t,this.rotation_index=(this.rotation_index+i)%this.all_rotations.length),this.moved},n.rotations=function(){},n.next_piece=function(t){return new n(this.All_Pieces[0],t)},n.All_Pieces=[[[[0,0],[1,0],[0,1],[1,1]]]],n.AllColors=["DarkGreen","dark blue","dark red","gold2","Purple3","OrangeRed2","LightSkyBlue"],n}(),t,r;n.Piece=i,t=function(){function n(n){this.blockSize=15,this.numColumns=10,this.numRows=27,this.score=0,this.delay=500,this.game=n,this.grid=new Array(this.numRows);for(var t=0;t<this.numRows;t++)this.grid[t]=new Array(this.numColumns);this.currentBlock=i.next_piece(this)}return n.prototype.emptyAt=function(){},n.prototype.run=function(){var n=this.currentBlock.dropByOne();!n},n.prototype.storeCurrent=function(){},n.prototype.draw=function(){this.current_pos=this.game.draw_piece(this.currentBlock,this.current_pos)},n}(),n.Board=t,r=function(){function n(){this.root=new Graphics.TetrisRoot,this.ticker=new Graphics.TetrisTimer,this.canvas=new Graphics.TetrisCanvas,this.rect=new Graphics.TetrisRect(this.canvas,2,2,25,25,"red"),this.ticker.setCallback(this),this.board=new t(this),this.isRunning=!0}return n.prototype.tick=function(){this.isRunning&&(this.rect.move(0,3),this.canvas.update())},n.prototype.draw_piece=function(n,t){t=null;var i=this.board.blockSize,r=n.current_rotation(),u=n.base_position},n}(),n.Tetris=r}(Game||(Game={})),g=new Game.Tetris